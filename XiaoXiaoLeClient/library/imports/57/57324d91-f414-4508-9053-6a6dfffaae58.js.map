{"version":3,"sources":["assets/newscripts/Main/goldeff.js"],"names":["cc","Class","Component","properties","start","cube_move","speed","pos","manager","node","stopAllActions","x","Math","floor","random","y","num","dir","v2","len","mag","t","runAction","moveTo","setTimeout","dir2","sub","getPosition","len2","t2","clearEffPool","put","bind"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,CACR;AACA;AACA;AACA;AAJQ,GAHP;AASL;AAEAC,EAAAA,KAXK,mBAWI,CAER,CAbI;AAeL;AACA;AACAC,EAAAA,SAjBK,qBAiBKC,KAjBL,EAiBWC,GAjBX,EAiBeC,OAjBf,EAiBuB;AACxB,SAAKC,IAAL,CAAUC,cAAV;AACA,QAAIC,CAAC,GAAC,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,GAAzB,IAA8B,EAA/B,IAAmC,EAAzC;AACA,QAAIC,CAAC,GAAC,CAACH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,GAAzB,IAA8B,EAA/B,IAAmC,EAAzC;AACA,QAAIE,GAAG,GAACJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,CAAzB,CAAR;AACA,QAAIG,GAAG,GAACjB,EAAE,CAACkB,EAAH,CAAMP,CAAN,EAAQI,CAAR,CAAR;AACA,QAAII,GAAG,GAACF,GAAG,CAACG,GAAJ,EAAR;AACA,QAAIC,CAAC,GAACF,GAAG,IAAEb,KAAK,GAAC,GAAR,CAAT,CAPwB,CAQxB;;AACA,QAAGU,GAAG,IAAE,CAAR,EAAU;AACN,WAAKP,IAAL,CAAUa,SAAV,CAAoBtB,EAAE,CAACuB,MAAH,CAAUF,CAAV,EAAYV,CAAZ,EAAcI,CAAd,CAApB;AACH,KAFD,MAEM,IAAGC,GAAG,IAAE,CAAR,EAAU;AACZ,WAAKP,IAAL,CAAUa,SAAV,CAAoBtB,EAAE,CAACuB,MAAH,CAAUF,CAAV,EAAY,CAACV,CAAb,EAAeI,CAAf,CAApB;AACH,KAFK,MAEA,IAAGC,GAAG,IAAE,CAAR,EAAU;AACZ,WAAKP,IAAL,CAAUa,SAAV,CAAoBtB,EAAE,CAACuB,MAAH,CAAUF,CAAV,EAAYV,CAAZ,EAAc,CAACI,CAAf,CAApB;AACH,KAFK,MAEA,IAAGC,GAAG,IAAE,CAAR,EAAU;AACZ,WAAKP,IAAL,CAAUa,SAAV,CAAoBtB,EAAE,CAACuB,MAAH,CAAUF,CAAV,EAAY,CAACV,CAAb,EAAe,CAACI,CAAhB,CAApB;AACH;;AACDS,IAAAA,UAAU,CAAC,YAAU;AACjB,UAAG,KAAKf,IAAR,EAAa;AACT,aAAKA,IAAL,CAAUC,cAAV;AACA,YAAIe,IAAI,GAAClB,GAAG,CAACmB,GAAJ,CAAQ,KAAKjB,IAAL,CAAUkB,WAAV,EAAR,CAAT;AACA,YAAIC,IAAI,GAACH,IAAI,CAACL,GAAL,EAAT;AACA,YAAIS,EAAE,GAACD,IAAI,GAACtB,KAAZ;AACA,aAAKG,IAAL,CAAUa,SAAV,CAAoBtB,EAAE,CAACuB,MAAH,CAAUM,EAAV,EAAatB,GAAb,CAApB;AACAiB,QAAAA,UAAU,CAAC,YAAU;AACjB,cAAG,KAAKf,IAAR,EAAa;AACTD,YAAAA,OAAO,CAACsB,YAAR,CAAqBC,GAArB,CAAyB,KAAKtB,IAA9B;AACH;AACJ,SAJU,CAITuB,IAJS,CAIJ,IAJI,CAAD,EAIGH,EAAE,GAAC,IAJN,CAAV;AAKH;AACJ,KAbU,CAaTG,IAbS,CAaJ,IAbI,CAAD,EAaG,GAbH,CAAV;AAcH;AAjDI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // music:{\r\n        //     type:cc.AudioClip,\r\n        //     default:null,\r\n        // }\r\n    },\r\n    // onLoad () {},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n    //敌人死亡后的方块移动\r\n    cube_move(speed,pos,manager){\r\n        this.node.stopAllActions();\r\n        var x=(Math.floor(Math.random()*100)+10)*20;\r\n        var y=(Math.floor(Math.random()*100)+10)*20;\r\n        var num=Math.floor(Math.random()*4);\r\n        var dir=cc.v2(x,y);\r\n        var len=dir.mag();\r\n        var t=len/(speed*0.2);\r\n        //this.is_rot=true;\r\n        if(num==0){\r\n            this.node.runAction(cc.moveTo(t,x,y));\r\n        }else if(num==1){\r\n            this.node.runAction(cc.moveTo(t,-x,y));\r\n        }else if(num==2){\r\n            this.node.runAction(cc.moveTo(t,x,-y));\r\n        }else if(num==3){\r\n            this.node.runAction(cc.moveTo(t,-x,-y));\r\n        }\r\n        setTimeout(function(){\r\n            if(this.node){\r\n                this.node.stopAllActions();\r\n                var dir2=pos.sub(this.node.getPosition());\r\n                var len2=dir2.mag();\r\n                var t2=len2/speed;\r\n                this.node.runAction(cc.moveTo(t2,pos));\r\n                setTimeout(function(){\r\n                    if(this.node){\r\n                        manager.clearEffPool.put(this.node);\r\n                    }\r\n                }.bind(this),t2*1000)\r\n            } \r\n        }.bind(this),200);\r\n    },\r\n});\r\n"]}