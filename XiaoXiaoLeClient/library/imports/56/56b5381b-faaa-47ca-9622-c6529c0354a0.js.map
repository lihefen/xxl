{"version":3,"sources":["assets/newscripts/Level/HomeSettign.js"],"names":["require","UIHelp","cc","Class","Component","properties","musicButton","Sprite","spr","SpriteFrame","music","type","AudioClip","onLoad","ShowButton","start","gamedata","bg_music","spriteFrame","Open","audioEngine","play","ZL","Level","OpenMask","node","y","runAction","moveTo","easing","easeBackOut","Close","director","emit","closeMask","BjmusicDoor","stopAll","bc_music","musicDoor","Again","energy","preas","rid","token","level","lvdata","lvl","network","httpSend","playGameCall","bind","utils","addTips","msg","console","log","code","gold","Number","data","coin","loadScene","message","GoLevel","window","ShowLoading","GoBegin"],"mappings":";;;;;;eAAmBA,OAAO,CAAC,WAAD;IAAlBC,kBAAAA;;AACRC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACR;AACAC,IAAAA,WAAW,EAAC,CAACJ,EAAE,CAACK,MAAJ,CAFJ;AAGR;AACAC,IAAAA,GAAG,EAAC,CAACN,EAAE,CAACO,WAAJ,CAJI;AAKRC,IAAAA,KAAK,EAAC;AACFC,MAAAA,IAAI,EAACT,EAAE,CAACU,SADN;AAEF,iBAAQ;AAFN;AALE,GAHP;AAeL;AAEAC,EAAAA,MAjBK,oBAiBK;AACN,SAAKC,UAAL;AACH,GAnBI;AAqBLC,EAAAA,KArBK,mBAqBI,CAER,CAvBI;AAyBL;AACA;AACAD,EAAAA,UA3BK,wBA2BO;AACR,QAAGE,QAAQ,CAACC,QAAZ,EAAqB;AACjB,WAAKX,WAAL,CAAiB,CAAjB,EAAoBY,WAApB,GAAgC,KAAKV,GAAL,CAAS,CAAT,CAAhC;AACH,KAFD,MAEK;AACD,WAAKF,WAAL,CAAiB,CAAjB,EAAoBY,WAApB,GAAgC,KAAKV,GAAL,CAAS,CAAT,CAAhC;AACH;;AACD,QAAGQ,QAAQ,CAACN,KAAZ,EAAkB;AACd,WAAKJ,WAAL,CAAiB,CAAjB,EAAoBY,WAApB,GAAgC,KAAKV,GAAL,CAAS,CAAT,CAAhC;AACH,KAFD,MAEK;AACD,WAAKF,WAAL,CAAiB,CAAjB,EAAoBY,WAApB,GAAgC,KAAKV,GAAL,CAAS,CAAT,CAAhC;AACH;AACJ,GAtCI;AAuCLW,EAAAA,IAvCK,kBAuCC;AACF,QAAGH,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACAR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACD,QAAGR,EAAE,CAACoB,EAAH,CAAMC,KAAT,EAAe;AACXrB,MAAAA,EAAE,CAACoB,EAAH,CAAMC,KAAN,CAAYC,QAAZ;AACH;;AACD,SAAKC,IAAL,CAAUC,CAAV,GAAY,IAAZ;AACA,SAAKD,IAAL,CAAUE,SAAV,CAAoBzB,EAAE,CAAC0B,MAAH,CAAU,GAAV,EAAc,CAAd,EAAgB,CAAhB,EAAmBC,MAAnB,CAA0B3B,EAAE,CAAC4B,WAAH,EAA1B,CAApB;AACH,GAjDI;AAkDLC,EAAAA,KAlDK,mBAkDE;AACH7B,IAAAA,EAAE,CAAC8B,QAAH,CAAYC,IAAZ,CAAiB,WAAjB;;AACA,QAAGjB,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACAR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACD,QAAGR,EAAE,CAACoB,EAAH,CAAMC,KAAT,EAAe;AACXrB,MAAAA,EAAE,CAACoB,EAAH,CAAMC,KAAN,CAAYW,SAAZ;AACH;;AACD,SAAKT,IAAL,CAAUE,SAAV,CAAoBzB,EAAE,CAAC0B,MAAH,CAAU,GAAV,EAAc,CAAd,EAAgB,IAAhB,CAApB;AACH,GA5DI;AA6DLO,EAAAA,WA7DK,yBA6DQ;AACT,QAAGnB,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACDM,IAAAA,QAAQ,CAACC,QAAT,GAAkB,CAACD,QAAQ,CAACC,QAA5B;AACA,SAAKH,UAAL;;AACA,QAAGE,QAAQ,CAACC,QAAZ,EAAqB;AACjBf,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,IAAlC,EAAuC,GAAvC;AACH,KAFD,MAEK;AACDR,MAAAA,EAAE,CAACkB,WAAH,CAAegB,OAAf;AACH;;AACDpB,IAAAA,QAAQ,CAACqB,QAAT;AACH,GAzEI;AA0ELC,EAAAA,SA1EK,uBA0EM;AACP,QAAGtB,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACDM,IAAAA,QAAQ,CAACN,KAAT,GAAe,CAACM,QAAQ,CAACN,KAAzB;AACA,SAAKI,UAAL;AACAE,IAAAA,QAAQ,CAACqB,QAAT;AACH,GAjFI;AAkFL;AACAE,EAAAA,KAnFK,mBAmFE;AACH,QAAGvB,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACD,QAAGM,QAAQ,CAACwB,MAAT,GAAgB,CAAnB,EAAqB;AACjB;AACA;AACA;AACA,UAAIC,KAAK,GAAG;AACRC,QAAAA,GAAG,EAAE1B,QAAQ,CAAC0B,GADN;AAERC,QAAAA,KAAK,EAAE3B,QAAQ,CAAC2B,KAFR;AAGRC,QAAAA,KAAK,EAAEC,MAAM,CAACC;AAHN,OAAZ;AAKA7C,MAAAA,MAAM,CAAC8C,OAAP,CAAeC,QAAf,CAAwB,0BAAxB,EAAoDP,KAApD,EAA2D,KAAKQ,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAA3D;AACH,KAVD,MAUK;AACDC,MAAAA,KAAK,CAACC,OAAN,CAAc,MAAd;AACH;AAEJ,GArGI;AAsGLH,EAAAA,YAtGK,wBAsGQI,GAtGR,EAsGa;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B;;AACA,QAAIA,GAAG,CAACG,IAAJ,IAAY,GAAhB,EAAqB;AACjB;AACA;AACA;AACAxC,MAAAA,QAAQ,CAACyC,IAAT,GAAgBC,MAAM,CAACL,GAAG,CAACM,IAAJ,CAASC,IAAV,CAAtB,CAJiB,CAKjB;;AACA5C,MAAAA,QAAQ,CAACwB,MAAT,GAAkBkB,MAAM,CAACL,GAAG,CAACM,IAAJ,CAASnB,MAAV,CAAxB;AACAtC,MAAAA,EAAE,CAAC8B,QAAH,CAAY6B,SAAZ,CAAsB,SAAtB;AACH,KARD,MAQO;AACHV,MAAAA,KAAK,CAACC,OAAN,CAAcC,GAAG,CAACS,OAAlB;AACH;AACJ,GAnHI;AAoHL;AACAC,EAAAA,OArHK,qBAqHI;AACLC,IAAAA,MAAM,CAACb,KAAP,CAAac,WAAb,GADK,CAEL;;AACA,QAAGjD,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACDR,IAAAA,EAAE,CAAC8B,QAAH,CAAY6B,SAAZ,CAAsB,UAAtB;AACH,GA5HI;AA6HL;AACAK,EAAAA,OA9HK,qBA8HI;AACL,QAAGlD,QAAQ,CAACN,KAAZ,EAAkB;AACdR,MAAAA,EAAE,CAACkB,WAAH,CAAeC,IAAf,CAAoB,KAAKX,KAAL,CAAW,CAAX,CAApB,EAAkC,KAAlC,EAAwC,CAAxC;AACH;;AACDR,IAAAA,EAAE,CAAC8B,QAAH,CAAY6B,SAAZ,CAAsB,OAAtB;AACH;AAnII,CAAT","sourceRoot":"/","sourcesContent":["const { UIHelp } = require(\"../UIHelp\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //音效按钮\r\n        musicButton:[cc.Sprite],\r\n        //音效按钮纹理\r\n        spr:[cc.SpriteFrame],\r\n        music:{\r\n            type:cc.AudioClip,\r\n            default:[],\r\n        }\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.ShowButton();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n    //显示正确的按钮\r\n    ShowButton(){\r\n        if(gamedata.bg_music){\r\n            this.musicButton[0].spriteFrame=this.spr[0];\r\n        }else{\r\n            this.musicButton[0].spriteFrame=this.spr[1];\r\n        }\r\n        if(gamedata.music){\r\n            this.musicButton[1].spriteFrame=this.spr[2];\r\n        }else{\r\n            this.musicButton[1].spriteFrame=this.spr[3];\r\n        }\r\n    },\r\n    Open(){\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n            cc.audioEngine.play(this.music[1],false,1);\r\n        }\r\n        if(cc.ZL.Level){\r\n            cc.ZL.Level.OpenMask();\r\n        }\r\n        this.node.y=2000;\r\n        this.node.runAction(cc.moveTo(0.2,0,0).easing(cc.easeBackOut()));\r\n    },\r\n    Close(){\r\n        cc.director.emit('closeHome')\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n            cc.audioEngine.play(this.music[1],false,1);\r\n        }\r\n        if(cc.ZL.Level){\r\n            cc.ZL.Level.closeMask();\r\n        }\r\n        this.node.runAction(cc.moveTo(0.2,0,2000));\r\n    },\r\n    BjmusicDoor(){\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n        }\r\n        gamedata.bg_music=!gamedata.bg_music;\r\n        this.ShowButton();\r\n        if(gamedata.bg_music){\r\n            cc.audioEngine.play(this.music[2],true,0.5);\r\n        }else{\r\n            cc.audioEngine.stopAll();\r\n        }\r\n        gamedata.bc_music();\r\n    },\r\n    musicDoor(){\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n        }\r\n        gamedata.music=!gamedata.music;\r\n        this.ShowButton();\r\n        gamedata.bc_music();\r\n    },\r\n    //重新开启本官\r\n    Again(){\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n        }\r\n        if(gamedata.energy>5){\r\n            // gamedata.energy -=5;\r\n            // gamedata.bc_energy();\r\n            // cc.director.loadScene(\"NewMain\");\r\n            let preas = {\r\n                rid: gamedata.rid,\r\n                token: gamedata.token,\r\n                level: lvdata.lvl\r\n            }\r\n            UIHelp.network.httpSend('game/xiaoxiaole/playGame', preas, this.playGameCall.bind(this));\r\n        }else{\r\n            utils.addTips('体力不足');\r\n        }\r\n\r\n    },\r\n    playGameCall(msg) {\r\n        console.log('playgame===>', msg);\r\n        if (msg.code == 200) {\r\n            // gamedata.energy -=5;\r\n            // gamedata.bc_energy();\r\n            //当前金币数量\r\n            gamedata.gold = Number(msg.data.coin);\r\n            //当前精力\r\n            gamedata.energy = Number(msg.data.energy);\r\n            cc.director.loadScene(\"NewMain\");\r\n        } else {\r\n            utils.addTips(msg.message);\r\n        }\r\n    },\r\n    //返回主页面\r\n    GoLevel(){\r\n        window.utils.ShowLoading();\r\n        // \butils.ShowLoading();\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n        }\r\n        cc.director.loadScene(\"newLevel\");\r\n    },\r\n    //返回开始页面\r\n    GoBegin(){\r\n        if(gamedata.music){\r\n            cc.audioEngine.play(this.music[0],false,1);\r\n        }\r\n        cc.director.loadScene(\"Begin\");\r\n    }\r\n\r\n});\r\n"]}