{"version":3,"sources":["assets/newscripts/GGfx.js"],"names":["com","require","cc","Class","Component","properties","fxtip","Node","onLoad","FXListen","active","zIndex","start","update","dt","comeInfo","timer","is_share","sys","platform","WECHAT_GAME","wx","onShow","oldtime","newtime","Date","now","console","log","bind","onHide","close","shareAgain","WxShare"],"mappings":";;;;;;AAAA,IAAIA,GAAG,GAACC,OAAO,CAAC,UAAD,CAAf;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,KAAK,EAACJ,EAAE,CAACK;AADD,GAHP;AAMLC,EAAAA,MANK,oBAMK;AAEN,SAAKC,QAAL;AACA,SAAKH,KAAL,CAAWI,MAAX,GAAkB,KAAlB;AACA,SAAKJ,KAAL,CAAWK,MAAX,GAAkB,EAAlB;AACH,GAXI;AAaLC,EAAAA,KAbK,mBAaI,CAER,CAfI;AAiBLC,EAAAA,MAjBK,kBAiBGC,EAjBH,EAiBO;AACR,QAAGC,QAAQ,CAACC,KAAT,GAAe,IAAlB,EAAuB;AACnB,WAAKV,KAAL,CAAWI,MAAX,GAAkB,IAAlB;AACAK,MAAAA,QAAQ,CAACC,KAAT,GAAe,IAAf;AACAD,MAAAA,QAAQ,CAACE,QAAT,GAAkB,KAAlB;AACH;AACJ,GAvBI;AAwBL;AACAR,EAAAA,QAzBK,sBAyBK;AACN,QAAGP,EAAE,CAACgB,GAAH,CAAOC,QAAP,IAAiBjB,EAAE,CAACgB,GAAH,CAAOE,WAA3B,EAAuC;AACnCC,MAAAA,EAAE,CAACC,MAAH,CAAU,YAAU;AAChB,YAAGP,QAAQ,CAACE,QAAZ,EAAqB;AACnB,cAAG,KAAKM,OAAR,EAAgB;AACb,iBAAKC,OAAL,GAAaC,IAAI,CAACC,GAAL,EAAb;AACAX,YAAAA,QAAQ,CAACC,KAAT,GAAe,KAAKQ,OAAL,GAAa,KAAKD,OAAjC,CAFa,CAGd;;AACAI,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAQb,QAAQ,CAACC,KAA7B;AACF;AACD;AACJ,OATS,CASRa,IATQ,CASH,IATG,CAAV;AAUAR,MAAAA,EAAE,CAACS,MAAH,CAAU,YAAU;AAChB,YAAGf,QAAQ,CAACE,QAAZ,EAAqB;AAChB,eAAKM,OAAL,GAAaE,IAAI,CAACC,GAAL,EAAb;AACJ;;AACDC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH,OALS,CAKRC,IALQ,CAKH,IALG,CAAV;AAMH;AACJ,GA5CI;AA6CL;AACAE,EAAAA,KA9CK,mBA8CE;AACH,SAAKzB,KAAL,CAAWI,MAAX,GAAkB,KAAlB;AACH,GAhDI;AAiDL;AACAsB,EAAAA,UAlDK,wBAkDO;AACR,SAAK1B,KAAL,CAAWI,MAAX,GAAkB,KAAlB;AACAV,IAAAA,GAAG,CAACiC,OAAJ;AACH;AArDI,CAAT","sourceRoot":"/","sourcesContent":["var com=require('./Advert');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        fxtip:cc.Node,\r\n    },\r\n    onLoad () {\r\n       \r\n        this.FXListen();\r\n        this.fxtip.active=false;\r\n        this.fxtip.zIndex=99;\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        if(comeInfo.timer<3000){\r\n            this.fxtip.active=true;\r\n            comeInfo.timer=6000;\r\n            comeInfo.is_share=false;\r\n        }\r\n    },\r\n    //分享监听\r\n    FXListen(){\r\n        if(cc.sys.platform==cc.sys.WECHAT_GAME){\r\n            wx.onShow(function(){\r\n                if(comeInfo.is_share){\r\n                  if(this.oldtime){\r\n                     this.newtime=Date.now();\r\n                     comeInfo.timer=this.newtime-this.oldtime;\r\n                    //this.SHow();\r\n                    console.log(\"展示界面:\"+comeInfo.timer);\r\n                 }\r\n                }\r\n            }.bind(this));\r\n            wx.onHide(function(){\r\n                if(comeInfo.is_share){\r\n                     this.oldtime=Date.now();\r\n                }\r\n                console.log(\"收回界面\");\r\n            }.bind(this));\r\n        }\r\n    },\r\n    //关闭面板\r\n    close(){\r\n        this.fxtip.active=false;\r\n    },\r\n    //重新分享\r\n    shareAgain(){\r\n        this.fxtip.active=false;\r\n        com.WxShare();\r\n    }\r\n});\r\n"]}