{"version":3,"sources":["assets/newscripts/Mains/ice.js"],"names":["cc","Class","Component","properties","rowNum","columnNum","type","typenum","start","InitView","row","column","node","setPosition","utils","rowColumnPosition","lvdata","ice","getComponent","Sprite","spriteFrame","ZL","sprMgr","icespr","i","target","length","clear","musicMgr","PlayMusicOnly","iceMgr","iceArray","targetMgr","clearTarget","destroy","targetNum"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACR;AACAC,IAAAA,MAAM,EAAE,CAAC,CAFD;AAGR;AACAC,IAAAA,SAAS,EAAE,CAAC,CAJJ;AAKR;AACAC,IAAAA,IAAI,EAAE,CAAC,CANC;AAOR;AACAC,IAAAA,OAAO,EAAE,CAAC;AARF,GAHP;AAcL;AAEAC,EAAAA,KAhBK,mBAgBG,CAEP,CAlBI;AAoBL;AACAC,EAAAA,QArBK,oBAqBIC,GArBJ,EAqBSC,MArBT,EAqBiB;AAClB,SAAKP,MAAL,GAAcM,GAAd;AACA,SAAKL,SAAL,GAAiBM,MAAjB;AACA,SAAKC,IAAL,CAAUC,WAAV,CAAsBC,KAAK,CAACC,iBAAN,CAAwBJ,MAAxB,EAAgCD,GAAhC,CAAtB,EAHkB,CAIlB;;AACA,SAAKJ,IAAL,GAAYU,MAAM,CAACC,GAAP,CAAWP,GAAX,EAAgBC,MAAhB,IAA0B,EAAtC,CALkB,CAMlB;;AACA,SAAKC,IAAL,CAAUM,YAAV,CAAuBlB,EAAE,CAACmB,MAA1B,EAAkCC,WAAlC,GAAgDpB,EAAE,CAACqB,EAAH,CAAMC,MAAN,CAAaC,MAAb,CAAoBP,MAAM,CAACC,GAAP,CAAWP,GAAX,EAAgBC,MAAhB,CAApB,CAAhD,CAPkB,CAQlB;;AACA,SAAK,IAAIa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,MAAM,CAACS,MAAP,CAAcC,MAAlC,EAA0CF,CAAC,EAA3C,EAA+C;AAC3C,UAAI,KAAKlB,IAAL,IAAa,EAAb,IAAmB,KAAKA,IAAL,IAAa,EAApC,EAAwC;AACpC;AACA,YAAIU,MAAM,CAACS,MAAP,CAAcD,CAAd,EAAiB,CAAjB,KAAuB,EAA3B,EAA+B;AAC3B,eAAKjB,OAAL,GAAeiB,CAAf;AACH;AACJ;AACJ;AACJ,GAtCI;AAuCLG,EAAAA,KAvCK,mBAuCG;AAAC;AAEL,QAAI,KAAKrB,IAAL,IAAa,EAAjB,EAAqB;AACjBN,MAAAA,EAAE,CAACqB,EAAH,CAAMO,QAAN,CAAeC,aAAf,CAA6B,EAA7B,EAAiC,KAAjC;;AACA,UAAI,KAAKtB,OAAL,IAAgB,CAAC,CAArB,EAAwB;AACpBP,QAAAA,EAAE,CAACqB,EAAH,CAAMS,MAAN,CAAaC,QAAb,CAAsB,KAAK3B,MAA3B,EAAmC,KAAKC,SAAxC,IAAqD,CAArD;AACAL,QAAAA,EAAE,CAACqB,EAAH,CAAMW,SAAN,CAAgBC,WAAhB,CAA4B,KAAKrB,IAAjC,EAAuC,KAAKL,OAA5C;AACH,OAHD,MAGO;AACH,YAAI,KAAKK,IAAT,EAAe;AACX,eAAKA,IAAL,CAAUsB,OAAV;AACH;AAEJ;AAEJ,KAZD,MAYO,IAAI,KAAK5B,IAAL,GAAY,MAAM,KAAKC,OAAL,IAAgB,CAAC,CAAvC,EAA0C;AAC7CP,MAAAA,EAAE,CAACqB,EAAH,CAAMO,QAAN,CAAeC,aAAf,CAA6B,EAA7B,EAAiC,KAAjC;AACA,WAAKvB,IAAL,GAAY,EAAZ;AACA,WAAKM,IAAL,CAAUM,YAAV,CAAuBlB,EAAE,CAACmB,MAA1B,EAAkCC,WAAlC,GAAgDpB,EAAE,CAACqB,EAAH,CAAMC,MAAN,CAAaC,MAAb,CAAoB,CAApB,CAAhD;AACAvB,MAAAA,EAAE,CAACqB,EAAH,CAAMW,SAAN,CAAgBG,SAAhB,CAA0B,KAAK5B,OAA/B;AACH;AAEJ;AA5DI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //行号\r\n        rowNum: -1,\r\n        //列号\r\n        columnNum: -1,\r\n        //类型\r\n        type: -1,\r\n        //目标位置\r\n        typenum: -1,\r\n    },\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n    InitView(row, column) {\r\n        this.rowNum = row;\r\n        this.columnNum = column;\r\n        this.node.setPosition(utils.rowColumnPosition(column, row));\r\n        // this.type=lvdata[\"Lv\"+comeInfo.now_lv].ice[row][column]+10;\r\n        this.type = lvdata.ice[row][column] + 10;\r\n        // this.node.getComponent(cc.Sprite).spriteFrame=cc.ZL.sprMgr.icespr[lvdata[\"Lv\"+comeInfo.now_lv].ice[row][column]];\r\n        this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.icespr[lvdata.ice[row][column]];\r\n        // for(let i=0;i<lvdata[\"Lv\"+comeInfo.now_lv].target.length;i++)\r\n        for (let i = 0; i < lvdata.target.length; i++) {\r\n            if (this.type == 12 || this.type == 11) {\r\n                // if(lvdata[\"Lv\"+comeInfo.now_lv].target[i][0]==11){\r\n                if (lvdata.target[i][0] == 11) {\r\n                    this.typenum = i;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    clear() {//消除这个物体\r\n\r\n        if (this.type == 11) {\r\n            cc.ZL.musicMgr.PlayMusicOnly(13, false);\r\n            if (this.typenum != -1) {\r\n                cc.ZL.iceMgr.iceArray[this.rowNum][this.columnNum] = 0;\r\n                cc.ZL.targetMgr.clearTarget(this.node, this.typenum);\r\n            } else {\r\n                if (this.node) {\r\n                    this.node.destroy();\r\n                }\r\n\r\n            }\r\n\r\n        } else if (this.type = 12 && this.typenum != -1) {\r\n            cc.ZL.musicMgr.PlayMusicOnly(13, false);\r\n            this.type = 11;\r\n            this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.icespr[1];\r\n            cc.ZL.targetMgr.targetNum(this.typenum);\r\n        }\r\n\r\n    }\r\n});\r\n"]}