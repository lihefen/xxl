{"version":3,"sources":["assets/newscripts/Main/CubeManager.js"],"names":["cc","Class","Component","properties","cubePrefab","Prefab","cubePanel","Node","cubeArray","Reminder","onLoad","ZL","cubeMgr","active","start","InitCube","info","lvdata","Anim","Array","row","length","rowArray","column","push","cube","instantiate","addChild","getComponent","initCube","BeginReminder","comeInfo","now_lv","Animation","play","setTimeout","node","destroy","bind"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACR;AACAC,IAAAA,UAAU,EAAEJ,EAAE,CAACK,MAFP;AAGR;AACAC,IAAAA,SAAS,EAAEN,EAAE,CAACO,IAJN;AAKR;AACAC,IAAAA,SAAS,EAAE,IANH;AAQR;AACAC,IAAAA,QAAQ,EAAE,CAACT,EAAE,CAACO,IAAJ;AATF,GAHP;AAeLG,EAAAA,MAfK,oBAeI;AACLV,IAAAA,EAAE,CAACW,EAAH,CAAMC,OAAN,GAAgB,IAAhB;AACA,SAAKH,QAAL,CAAc,CAAd,EAAiBI,MAAjB,GAA0B,KAA1B;AACH,GAlBI;AAoBLC,EAAAA,KApBK,mBAoBG,CAEP,CAtBI;AAwBL;AACA;AACAC,EAAAA,QA1BK,sBA0BM;AACP;AACA,QAAIC,IAAI,GAAGC,MAAM,CAACC,IAAlB,CAFO,CAEgB;;AACvB,SAAKV,SAAL,GAAiB,IAAIW,KAAJ,EAAjB;;AACA,SAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGJ,IAAI,CAACK,MAA7B,EAAqCD,GAAG,EAAxC,EAA4C;AAAC;AACzC,UAAIE,QAAQ,GAAG,IAAIH,KAAJ,EAAf;;AACA,WAAK,IAAII,MAAM,GAAG,CAAlB,EAAqBA,MAAM,GAAGP,IAAI,CAACI,GAAD,CAAJ,CAAUC,MAAxC,EAAgDE,MAAM,EAAtD,EAA0D;AAAC;AACvD;AACA,YAAIN,MAAM,CAACC,IAAP,CAAYE,GAAZ,EAAiBG,MAAjB,KAA4B,CAAhC,EAAmC;AAC/BD,UAAAA,QAAQ,CAACE,IAAT,CAAc,CAAC,CAAf;AACH,SAFD,MAEO;AACH,cAAIC,IAAI,GAAGzB,EAAE,CAAC0B,WAAH,CAAe,KAAKtB,UAApB,CAAX;AACA,eAAKE,SAAL,CAAeqB,QAAf,CAAwBF,IAAxB;AACAA,UAAAA,IAAI,CAACG,YAAL,CAAkB,MAAlB,EAA0BC,QAA1B,CAAmCN,MAAnC,EAA2CH,GAA3C;AACAE,UAAAA,QAAQ,CAACE,IAAT,CAAcC,IAAd;AACH;AAEJ;;AACD,WAAKjB,SAAL,CAAegB,IAAf,CAAoBF,QAApB;AACH;AACJ,GA9CI;AA+CL;AACAQ,EAAAA,aAhDK,2BAgDW;AACZ,QAAIC,QAAQ,CAACC,MAAT,IAAmB,CAAvB,EAA0B;AACtB,WAAKvB,QAAL,CAAc,CAAd,EAAiBI,MAAjB,GAA0B,IAA1B;AACA,WAAKJ,QAAL,CAAc,CAAd,EAAiBI,MAAjB,GAA0B,IAA1B;AACA,WAAKJ,QAAL,CAAc,CAAd,EAAiBmB,YAAjB,CAA8B5B,EAAE,CAACiC,SAAjC,EAA4CC,IAA5C;AACAC,MAAAA,UAAU,CAAC,YAAY;AACnB,YAAI,KAAKC,IAAT,EAAe;AACX,eAAK3B,QAAL,CAAc,CAAd,EAAiB4B,OAAjB;AACH;AACJ,OAJU,CAITC,IAJS,CAIJ,IAJI,CAAD,EAII,IAJJ,CAAV;AAKH;AAEJ;AA5DI,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //方块预制体\r\n        cubePrefab: cc.Prefab,\r\n        //方块的容器(父物体)\r\n        cubePanel: cc.Node,\r\n        //方块管理器\r\n        cubeArray: null,\r\n\r\n        //指示标识\r\n        Reminder: [cc.Node],\r\n    },\r\n\r\n    onLoad() {\r\n        cc.ZL.cubeMgr = this;\r\n        this.Reminder[0].active = false;\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n    //实例化方块\r\n    InitCube() {\r\n        // let info=lvdata[\"Lv\"+comeInfo.now_lv].Anim;//获取到这一关的信息\r\n        let info = lvdata.Anim;//获取到这一关的信息v\r\n        this.cubeArray = new Array();\r\n        for (let row = 0; row < info.length; row++) {//产生几行\r\n            let rowArray = new Array();\r\n            for (let column = 0; column < info[row].length; column++) {//产生几列\r\n                // if(lvdata[\"Lv\"+comeInfo.now_lv].Anim[row][column]==0){\r\n                if (lvdata.Anim[row][column] == 0) {\r\n                    rowArray.push(-1);\r\n                } else {\r\n                    let cube = cc.instantiate(this.cubePrefab);\r\n                    this.cubePanel.addChild(cube);\r\n                    cube.getComponent(\"cube\").initCube(column, row);\r\n                    rowArray.push(cube);\r\n                }\r\n\r\n            }\r\n            this.cubeArray.push(rowArray);\r\n        }\r\n    },\r\n    //第一关开启提示\r\n    BeginReminder() {\r\n        if (comeInfo.now_lv == 1) {\r\n            this.Reminder[0].active = true;\r\n            this.Reminder[1].active = true;\r\n            this.Reminder[1].getComponent(cc.Animation).play();\r\n            setTimeout(function () {\r\n                if (this.node) {\r\n                    this.Reminder[0].destroy();\r\n                }\r\n            }.bind(this), 3000);\r\n        }\r\n\r\n    }\r\n});\r\n"]}