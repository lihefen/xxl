
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/newscripts/Main/Animal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '499377HlllFqKGVEkBJsU3I', 'Animal');
// newscripts/Main/Animal.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    //列号
    columnNum: -1,
    //行号
    rowNum: -1,
    //管理器
    animalMgr: null,
    //动物的类型
    animType: 0,
    //0障碍物，1狗,2猴子，3鸟，4猫，5羊  6魔力鸟
    //消除类型 0普通1横向2纵向3范围4魔力鸟
    clearType: 0,
    can_move: true,
    //是否已经被消除
    is_clear: false
  },
  // onLoad () {},
  start: function start() {},
  update: function update(dt) {},
  initAnimal: function initAnimal(columnnum, rownum, animalMgr) {
    this.clearType = 0;
    this.pos = [];
    this.node.sacle = 1;
    this.is_clear = false;

    if (rownum == -1) {
      this.animType = Math.floor(Math.random() * 5) + 1;
    } else {
      // if(lvdata["Lv"+comeInfo.now_lv].Anim[rownum][columnnum]==0){//填补使用
      //     this.animType=Math.floor(Math.random()*5)+1;
      // }else{
      //     this.animType=lvdata["Lv"+comeInfo.now_lv].Anim[rownum][columnnum];
      // }
      if (lvdata.Anim[rownum][columnnum] == 0) {
        //填补使用
        this.animType = Math.floor(Math.random() * 5) + 1;
      } else {
        this.animType = lvdata.Anim[rownum][columnnum];
      }
    } //设置是否可移动


    if (this.animType >= 6) {
      this.node.width = 74;
      this.node.height = 74;
      this.can_move = false;
    } else {
      this.node.width = 74;
      this.node.height = 74;
      this.can_move = true;
    }

    this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.spr[this.animType];
    this.columnNum = columnnum;
    this.rowNum = rownum;
    this.animalMgr = animalMgr;
    this.node.setPosition(utils.rowColumnPosition_Anim(columnnum, rownum));
  },
  //把要移动到的点加入数组
  AddPos: function AddPos(columnnum, rownum) {
    this.columnNum = columnnum;
    this.rowNum = rownum;
    this.animalMgr.animalArray[this.rowNum][this.columnNum] = this;
    var p = [columnnum, rownum];
    this.pos.push(p);
  },
  //填充移动
  FilledMove: function FilledMove() {
    var action = [];

    if (this.pos.length > 1) {
      this.node.stopAllActions();

      for (var i = 0; i < this.pos.length; i++) {
        if (i == this.pos.length - 1) {
          //如果是最后一个就加上缓动系统
          var fn1 = cc.moveTo(comeInfo.animalMoveTime, utils.rowColumnPosition_Anim(this.pos[i][0], this.pos[i][1])).easing(cc.easeElasticOut(0.9));
          var fn2 = cc.scaleTo(0.2, 0.8, 0.8);
          var fn3 = cc.scaleTo(0.4, 1, 1).easing(cc.easeElasticOut(0.5));
          var fn = cc.spawn(fn1, cc.sequence(fn2, fn3));
          action.push(fn);
        } else {
          action.push(cc.moveTo(comeInfo.animalMoveTime, utils.rowColumnPosition_Anim(this.pos[i][0], this.pos[i][1])));
        }
      }

      this.node.runAction(cc.sequence(action));
    } else if (this.pos.length == 1) {
      this.node.stopAllActions();

      var _fn = cc.moveTo(comeInfo.animalMoveTime, utils.rowColumnPosition_Anim(this.pos[0][0], this.pos[0][1])).easing(cc.easeElasticOut(0.9));

      var _fn2 = cc.scaleTo(0.2, 0.8, 0.8);

      var _fn3 = cc.scaleTo(0.4, 1, 1).easing(cc.easeElasticOut(0.5));

      var _fn4 = cc.spawn(_fn, cc.sequence(_fn2, _fn3));

      this.node.runAction(_fn4);
    }

    this.pos = [];
  },
  //动物移动
  AnimMove: function AnimMove(columnnum, rownum) {
    if (this.can_move) {
      this.node.stopAllActions();
      this.columnNum = columnnum;
      this.rowNum = rownum;
      this.animalMgr.animalArray[this.rowNum][this.columnNum] = this;
      var fn1 = cc.moveTo(comeInfo.animalMoveTime, utils.rowColumnPosition_Anim(columnnum, rownum));
      var fn2 = cc.scaleTo(0.05, 0.5, 0.5);
      var fn3 = cc.scaleTo(0.1, 1, 1).easing(cc.easeElasticOut(0.9));
      this.node.runAction(cc.sequence(fn1, fn2, fn3));
    }
  },
  //消除
  clear: function clear() {
    if (this.is_clear) {
      //防止被重复消除
      return;
    }

    cc.ZL.UIMgr.AddScore(cc.ZL.UIMgr.add_score); //如果是障碍物就用障碍物消除

    if (this.animType > 6) {
      this.clearObstacle(this, this.rowNum, this.columnNum, 'clear');
      return;
    } //先查看该动物上方是否有需要消除的障碍（比如被冰冻，被草困住）


    if (this.FindUP()) {
      //没有需要消除的上层障碍才向下执行
      this.is_clear = true; //查看是否有特殊消除效果

      switch (this.clearType) {
        case 1:
          //消除一行
          cc.ZL.effMgr.CreatRowEff(this.node.getPosition(), 'row');
          this.animalMgr.RowClear(this.rowNum, this.columnNum);
          break;

        case 2:
          //消除一列
          cc.ZL.effMgr.CreatRowEff(this.node.getPosition(), 'cloumn');
          this.animalMgr.ColumnClear(this.rowNum, this.columnNum);
          break;

        case 3:
          //范围消除
          cc.ZL.effMgr.CreatBoomEff(this.node.getPosition());
          this.animalMgr.RangeClear(this.rowNum, this.columnNum);
          break;

        case 4:
          //魔力鸟消除
          if (this.animType == 6) {
            this.animType = Math.floor(Math.random() * 5) + 1; //console.log("消除类型是"+randomType);

            this.animalMgr.TypeClear(this.animType);
          } else {
            this.animalMgr.TypeClear(this.animType);
          }

          break;
      }

      this.ClearSelf();
    }
  },
  //查看该动物上方是否有需要消除的障碍（比如被冰冻，被草困住）
  FindUP: function FindUP() {
    if (!this.can_move) {
      //不能移动才有可能有障碍
      if (this.animType > 0 && this.animType <= 6) {
        //只有动物上方才有障碍
        if (cc.ZL.iceMgr.UpArray[this.rowNum][this.columnNum] != 0) {
          cc.ZL.iceMgr.UpArray[this.rowNum][this.columnNum].clear();
          return false;
        }
      }
    }

    return true;
  },
  ClearSelf: function ClearSelf() {
    var _this = this;

    //先去除子物体(附加特效什么的)
    var Mchilds = this.node.children;

    for (var i = 0; i < Mchilds.length; i++) {
      Mchilds[i].destroy();
    } //查看该格子有没有需要消除的冰块等物体


    if (cc.ZL.iceMgr.iceArray[this.rowNum][this.columnNum] != 0) {
      cc.ZL.iceMgr.iceArray[this.rowNum][this.columnNum].clear();
    } //产看周围是否有可以消除的


    setTimeout(function () {
      _this.FindAround();
    }, 100); //该位置设为空

    this.animalMgr.animalArray[this.rowNum][this.columnNum] = 0;
    var targetnum = this.isTarget();

    if (targetnum == -1) {
      //特效动画
      cc.ZL.effMgr.CreatClearEff(this.node.getPosition());
      cc.ZL.LabelMgr.creatLabel(this.node.getPosition(), 500);
      var fn1 = cc.scaleTo(0.1, 1.2, 1.2);
      var fn2 = cc.scaleTo(comeInfo.animalClearTime, 0, 0);
      var fn3 = cc.sequence([fn1, fn2]);
      this.node.runAction(fn3);
      setTimeout(function () {
        this.animalMgr.animalPool.put(this.node);
      }.bind(this), (comeInfo.animalClearTime + 0.1) * 1000);
    } else {
      cc.ZL.LabelMgr.creatLabel(this.node.getPosition(), 500);
      cc.ZL.targetMgr.clearTarget(this.node, targetnum);
    }
  },
  deleteMuBiao: function deleteMuBiao() {
    var targetnum = this.isTarget();

    if (targetnum != -1) {
      // cc.ZL.LabelMgr.creatLabel(this.node.getPosition(), 500);
      cc.ZL.targetMgr.targetNum(targetnum);
    }
  },
  //产看周围是否有可以消除的
  FindAround: function FindAround() {
    //本身是障碍物就不消除周围了
    if (this.animType > 6) {
      return;
    } //上


    if (this.rowNum - 1 >= 0) {
      var anim = this.animalMgr.animalArray[this.rowNum - 1][this.columnNum];

      if (anim != 0 && anim != -1) {
        this.clearObstacle(anim, this.rowNum - 1, this.columnNum, 'FindAround上');
      }
    } //下


    if (this.rowNum + 1 < comeInfo.column) {
      var _anim = this.animalMgr.animalArray[this.rowNum + 1][this.columnNum];

      if (_anim != 0 && _anim != -1) {
        this.clearObstacle(_anim, this.rowNum + 1, this.columnNum, 'FindAround下');
      }
    } //左


    if (this.columnNum - 1 >= 0) {
      var _anim2 = this.animalMgr.animalArray[this.rowNum][this.columnNum - 1];

      if (_anim2 != 0 && _anim2 != -1) {
        this.clearObstacle(_anim2, this.rowNum, this.columnNum - 1, 'FindAround左');
      }
    } //右


    if (this.columnNum + 1 < comeInfo.row) {
      var _anim3 = this.animalMgr.animalArray[this.rowNum][this.columnNum + 1];

      if (_anim3 != 0 && _anim3 != -1) {
        this.clearObstacle(_anim3, this.rowNum, this.columnNum + 1, 'FindAround右');
      }
    }
  },
  //消除障碍物
  clearObstacle: function clearObstacle(anim, row, column, name) {
    if (name === void 0) {
      name = null;
    }

    if (anim.animType == 7) {
      //单层冰
      this.animalMgr.animalArray[row][column] = 0;
      cc.ZL.musicMgr.PlayMusicOnly(14, false);
      anim.node.runAction(cc.scaleTo(comeInfo.animalClearTime, 0, 0));
      var animtargetnum = anim.isTarget();

      if (animtargetnum != -1) {
        //查看是否是目标
        // console.log('funcName', name)
        cc.ZL.targetMgr.clearTarget(anim.node, animtargetnum);
      } else {
        setTimeout(function () {
          this.animalMgr.animalPool.put(anim.node);
        }.bind(this), comeInfo.animalClearTime * 1000 + 100);
      }
    } else if (anim.animType == 8) {
      cc.ZL.musicMgr.PlayMusicOnly(14, false);
      anim.animType = 7;
      anim.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.spr[anim.animType];
    } else if (anim.animType == 9) {
      cc.ZL.musicMgr.PlayMusicOnly(14, false);
      anim.animType = 8;
      anim.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.spr[anim.animType];
    }
  },
  //查看是不是目标物
  isTarget: function isTarget() {
    //  let lvtarget=lvdata["Lv"+comeInfo.now_lv].target;
    var lvtarget = lvdata.target;

    for (var i = 0; i < lvtarget.length; i++) {
      if (this.animType == lvtarget[i][0]) {
        return i;
      }
    }

    return -1;
  },
  //产生横向消除特效
  creatRowEff: function creatRowEff(bol) {
    this.clearType = 1;
    cc.ZL.effMgr.dirEff(this.node, 'Row');
    this.playAnim(2);

    if (!bol) {
      return;
    }

    cc.ZL.musicMgr.MyplayMusic(10, false);
  },
  //产生纵向消除特效
  creatColnumEff: function creatColnumEff(bol) {
    this.clearType = 2;
    cc.ZL.effMgr.dirEff(this.node, 'Column');
    this.playAnim(1);

    if (!bol) {
      return;
    } //cc.ZL.musicMgr.MyplayMusic(10,false);

  },
  //产生T型特效
  CreatTEff: function CreatTEff() {
    this.clearType = 3;
    this.playAnim(3);
    cc.ZL.effMgr.TEff(this.node);
  },
  //产生魔力鸟特效
  CreatFiveEff: function CreatFiveEff() {
    cc.ZL.effMgr.CratNiao(this.node);
    this.clearType = 4;
    this.animType = 6;
    this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.spr[this.animType];
  },
  //播放动画
  playAnim: function playAnim(type) {
    if (type == 1) {
      this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.Animspr[this.animType];
      this.node.getComponent(cc.Animation).play('zhong');
    } else if (type == 2) {
      this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.Animspr[this.animType];
      this.node.getComponent(cc.Animation).play('heng');
    } else if (type == 3) {
      this.node.getComponent(cc.Sprite).spriteFrame = cc.ZL.sprMgr.Animspr[this.animType];
      this.node.getComponent(cc.Animation).play('fanwei');
    }
  },
  //停止播放动画
  stopAnim: function stopAnim() {
    this.node.getComponent(cc.Animation).stop();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9uZXdzY3JpcHRzL01haW4vQW5pbWFsLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiY29sdW1uTnVtIiwicm93TnVtIiwiYW5pbWFsTWdyIiwiYW5pbVR5cGUiLCJjbGVhclR5cGUiLCJjYW5fbW92ZSIsImlzX2NsZWFyIiwic3RhcnQiLCJ1cGRhdGUiLCJkdCIsImluaXRBbmltYWwiLCJjb2x1bW5udW0iLCJyb3dudW0iLCJwb3MiLCJub2RlIiwic2FjbGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsdmRhdGEiLCJBbmltIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJzcHJpdGVGcmFtZSIsIlpMIiwic3ByTWdyIiwic3ByIiwic2V0UG9zaXRpb24iLCJ1dGlscyIsInJvd0NvbHVtblBvc2l0aW9uX0FuaW0iLCJBZGRQb3MiLCJhbmltYWxBcnJheSIsInAiLCJwdXNoIiwiRmlsbGVkTW92ZSIsImFjdGlvbiIsImxlbmd0aCIsInN0b3BBbGxBY3Rpb25zIiwiaSIsImZuMSIsIm1vdmVUbyIsImNvbWVJbmZvIiwiYW5pbWFsTW92ZVRpbWUiLCJlYXNpbmciLCJlYXNlRWxhc3RpY091dCIsImZuMiIsInNjYWxlVG8iLCJmbjMiLCJmbiIsInNwYXduIiwic2VxdWVuY2UiLCJydW5BY3Rpb24iLCJBbmltTW92ZSIsImNsZWFyIiwiVUlNZ3IiLCJBZGRTY29yZSIsImFkZF9zY29yZSIsImNsZWFyT2JzdGFjbGUiLCJGaW5kVVAiLCJlZmZNZ3IiLCJDcmVhdFJvd0VmZiIsImdldFBvc2l0aW9uIiwiUm93Q2xlYXIiLCJDb2x1bW5DbGVhciIsIkNyZWF0Qm9vbUVmZiIsIlJhbmdlQ2xlYXIiLCJUeXBlQ2xlYXIiLCJDbGVhclNlbGYiLCJpY2VNZ3IiLCJVcEFycmF5IiwiTWNoaWxkcyIsImNoaWxkcmVuIiwiZGVzdHJveSIsImljZUFycmF5Iiwic2V0VGltZW91dCIsIkZpbmRBcm91bmQiLCJ0YXJnZXRudW0iLCJpc1RhcmdldCIsIkNyZWF0Q2xlYXJFZmYiLCJMYWJlbE1nciIsImNyZWF0TGFiZWwiLCJhbmltYWxDbGVhclRpbWUiLCJhbmltYWxQb29sIiwicHV0IiwiYmluZCIsInRhcmdldE1nciIsImNsZWFyVGFyZ2V0IiwiZGVsZXRlTXVCaWFvIiwidGFyZ2V0TnVtIiwiYW5pbSIsImNvbHVtbiIsInJvdyIsIm5hbWUiLCJtdXNpY01nciIsIlBsYXlNdXNpY09ubHkiLCJhbmltdGFyZ2V0bnVtIiwibHZ0YXJnZXQiLCJ0YXJnZXQiLCJjcmVhdFJvd0VmZiIsImJvbCIsImRpckVmZiIsInBsYXlBbmltIiwiTXlwbGF5TXVzaWMiLCJjcmVhdENvbG51bUVmZiIsIkNyZWF0VEVmZiIsIlRFZmYiLCJDcmVhdEZpdmVFZmYiLCJDcmF0TmlhbyIsInR5cGUiLCJBbmltc3ByIiwiQW5pbWF0aW9uIiwicGxheSIsInN0b3BBbmltIiwic3RvcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1I7QUFDQUMsSUFBQUEsU0FBUyxFQUFFLENBQUMsQ0FGSjtBQUdSO0FBQ0FDLElBQUFBLE1BQU0sRUFBRSxDQUFDLENBSkQ7QUFLUjtBQUNBQyxJQUFBQSxTQUFTLEVBQUUsSUFOSDtBQU9SO0FBQ0FDLElBQUFBLFFBQVEsRUFBRSxDQVJGO0FBUUs7QUFDYjtBQUNBQyxJQUFBQSxTQUFTLEVBQUUsQ0FWSDtBQVdSQyxJQUFBQSxRQUFRLEVBQUUsSUFYRjtBQVlSO0FBQ0FDLElBQUFBLFFBQVEsRUFBRTtBQWJGLEdBSFA7QUFtQkw7QUFFQUMsRUFBQUEsS0FyQkssbUJBcUJHLENBQUUsQ0FyQkw7QUF1QkxDLEVBQUFBLE1BdkJLLGtCQXVCRUMsRUF2QkYsRUF1Qk0sQ0FBRSxDQXZCUjtBQXdCTEMsRUFBQUEsVUF4Qkssc0JBd0JNQyxT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Q0FBdUIzQixFQUFFLENBQUM0QixNQUExQixFQUFrQ0MsV0FBbEMsR0FBZ0Q3QixFQUFFLENBQUM4QixFQUFILENBQU1DLE1BQU4sQ0FBYW9GLE9BQWIsQ0FBcUIsS0FBSzVHLFFBQTFCLENBQWhEO0FBQ0EsV0FBS1csSUFBTCxDQUFVUyxZQUFWLENBQXVCM0IsRUFBRSxDQUFDb0gsU0FBMUIsRUFBcUNDLElBQXJDLENBQTBDLFFBQTFDO0FBQ0g7QUFDSixHQWxWSTtBQW1WTDtBQUNBQyxFQUFBQSxRQXBWSyxzQkFvVk07QUFDUCxTQUFLcEcsSUFBTCxDQUFVUyxZQUFWLENBQXVCM0IsRUFBRSxDQUFDb0gsU0FBMUIsRUFBcUNHLElBQXJDO0FBQ0g7QUF0VkksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAvL+WIl+WPt1xyXG4gICAgICAgIGNvbHVtbk51bTogLTEsXHJcbiAgICAgICAgLy/ooYzlj7dcclxuICAgICAgICByb3dOdW06IC0xLFxyXG4gICAgICAgIC8v566h55CG5ZmoXHJcbiAgICAgICAgYW5pbWFsTWdyOiBudWxsLFxyXG4gICAgICAgIC8v5Yqo54mp55qE57G75Z6LXHJcbiAgICAgICAgYW5pbVR5cGU6IDAsIC8vMOmanOeijeeJqe+8jDHni5csMueMtOWtkO+8jDPpuJ/vvIw054yr77yMNee+iiAgNumtlOWKm+m4n1xyXG4gICAgICAgIC8v5raI6Zmk57G75Z6LIDDmma7pgJox5qiq5ZCRMue6teWQkTPojIPlm7Q06a2U5Yqb6bifXHJcbiAgICAgICAgY2xlYXJUeXBlOiAwLFxyXG4gICAgICAgIGNhbl9tb3ZlOiB0cnVlLFxyXG4gICAgICAgIC8v5piv5ZCm5bey57uP6KKr5raI6ZmkXHJcbiAgICAgICAgaXNfY2xlYXI6IGZhbHNlLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge30sXHJcblxyXG4gICAgc3RhcnQoKSB7fSxcclxuXHJcbiAgICB1cGRhdGUoZHQpIHt9LFxyXG4gICAgaW5pdEFuaW1hbChjb2x1bW5udW0sIHJvd251bSwgYW5pbWFsTWdyKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclR5cGUgPSAwO1xyXG4gICAgICAgIHRoaXMucG9zID0gW107XHJcbiAgICAgICAgdGhpcy5ub2RlLnNhY2xlID0gMTtcclxuICAgICAgICB0aGlzLmlzX2NsZWFyID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJvd251bSA9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1UeXBlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmKGx2ZGF0YVtcIkx2XCIrY29tZUluZm8ubm93X2x2XS5BbmltW3Jvd251bV1bY29sdW1ubnVtXT09MCl7Ly/loavooaXkvb/nlKhcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuYW5pbVR5cGU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjUpKzE7XHJcbiAgICAgICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5hbmltVHlwZT1sdmRhdGFbXCJMdlwiK2NvbWVJbmZvLm5vd19sdl0uQW5pbVtyb3dudW1dW2NvbHVtbm51bV07XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgaWYgKGx2ZGF0YS5BbmltW3Jvd251bV1bY29sdW1ubnVtXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL+Whq+ihpeS9v+eUqFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltVHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbVR5cGUgPSBsdmRhdGEuQW5pbVtyb3dudW1dW2NvbHVtbm51bV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/orr7nva7mmK/lkKblj6/np7vliqhcclxuICAgICAgICBpZiAodGhpcy5hbmltVHlwZSA+PSA2KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS53aWR0aCA9IDc0O1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuaGVpZ2h0ID0gNzQ7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuX21vdmUgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUud2lkdGggPSA3NDtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IDc0O1xyXG4gICAgICAgICAgICB0aGlzLmNhbl9tb3ZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gY2MuWkwuc3ByTWdyLnNwclt0aGlzLmFuaW1UeXBlXTtcclxuICAgICAgICB0aGlzLmNvbHVtbk51bSA9IGNvbHVtbm51bTtcclxuICAgICAgICB0aGlzLnJvd051bSA9IHJvd251bTtcclxuICAgICAgICB0aGlzLmFuaW1hbE1nciA9IGFuaW1hbE1ncjtcclxuICAgICAgICB0aGlzLm5vZGUuc2V0UG9zaXRpb24odXRpbHMucm93Q29sdW1uUG9zaXRpb25fQW5pbShjb2x1bW5udW0sIHJvd251bSkpO1xyXG4gICAgfSxcclxuICAgIC8v5oqK6KaB56e75Yqo5Yiw55qE54K55Yqg5YWl5pWw57uEXHJcbiAgICBBZGRQb3MoY29sdW1ubnVtLCByb3dudW0pIHtcclxuICAgICAgICB0aGlzLmNvbHVtbk51bSA9IGNvbHVtbm51bTtcclxuICAgICAgICB0aGlzLnJvd051bSA9IHJvd251bTtcclxuICAgICAgICB0aGlzLmFuaW1hbE1nci5hbmltYWxBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dID0gdGhpcztcclxuICAgICAgICBsZXQgcCA9IFtjb2x1bW5udW0sIHJvd251bV07XHJcbiAgICAgICAgdGhpcy5wb3MucHVzaChwKTtcclxuICAgIH0sXHJcbiAgICAvL+Whq+WFheenu+WKqFxyXG4gICAgRmlsbGVkTW92ZSgpIHtcclxuICAgICAgICBsZXQgYWN0aW9uID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMucG9zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpID09IHRoaXMucG9zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WmguaenOaYr+acgOWQjuS4gOS4quWwseWKoOS4iue8k+WKqOezu+e7n1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmbjEgPSBjY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAubW92ZVRvKGNvbWVJbmZvLmFuaW1hbE1vdmVUaW1lLCB1dGlscy5yb3dDb2x1bW5Qb3NpdGlvbl9BbmltKHRoaXMucG9zW2ldWzBdLCB0aGlzLnBvc1tpXVsxXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC45KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZuMiA9IGNjLnNjYWxlVG8oMC4yLCAwLjgsIDAuOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZuMyA9IGNjLnNjYWxlVG8oMC40LCAxLCAxKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC41KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZuID0gY2Muc3Bhd24oZm4xLCBjYy5zZXF1ZW5jZShmbjIsIGZuMykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5wdXNoKGZuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVUbyhjb21lSW5mby5hbmltYWxNb3ZlVGltZSwgdXRpbHMucm93Q29sdW1uUG9zaXRpb25fQW5pbSh0aGlzLnBvc1tpXVswXSwgdGhpcy5wb3NbaV1bMV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShhY3Rpb24pKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9zLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgZm4xID0gY2NcclxuICAgICAgICAgICAgICAgIC5tb3ZlVG8oY29tZUluZm8uYW5pbWFsTW92ZVRpbWUsIHV0aWxzLnJvd0NvbHVtblBvc2l0aW9uX0FuaW0odGhpcy5wb3NbMF1bMF0sIHRoaXMucG9zWzBdWzFdKSlcclxuICAgICAgICAgICAgICAgIC5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC45KSk7XHJcbiAgICAgICAgICAgIGxldCBmbjIgPSBjYy5zY2FsZVRvKDAuMiwgMC44LCAwLjgpO1xyXG4gICAgICAgICAgICBsZXQgZm4zID0gY2Muc2NhbGVUbygwLjQsIDEsIDEpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjUpKTtcclxuICAgICAgICAgICAgbGV0IGZuID0gY2Muc3Bhd24oZm4xLCBjYy5zZXF1ZW5jZShmbjIsIGZuMykpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGZuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3MgPSBbXTtcclxuICAgIH0sXHJcbiAgICAvL+WKqOeJqeenu+WKqFxyXG4gICAgQW5pbU1vdmUoY29sdW1ubnVtLCByb3dudW0pIHtcclxuICAgICAgICBpZiAodGhpcy5jYW5fbW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5OdW0gPSBjb2x1bW5udW07XHJcbiAgICAgICAgICAgIHRoaXMucm93TnVtID0gcm93bnVtO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hbE1nci5hbmltYWxBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dID0gdGhpcztcclxuICAgICAgICAgICAgbGV0IGZuMSA9IGNjLm1vdmVUbyhjb21lSW5mby5hbmltYWxNb3ZlVGltZSwgdXRpbHMucm93Q29sdW1uUG9zaXRpb25fQW5pbShjb2x1bW5udW0sIHJvd251bSkpO1xyXG4gICAgICAgICAgICBsZXQgZm4yID0gY2Muc2NhbGVUbygwLjA1LCAwLjUsIDAuNSk7XHJcbiAgICAgICAgICAgIGxldCBmbjMgPSBjYy5zY2FsZVRvKDAuMSwgMSwgMSkuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuOSkpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGZuMSwgZm4yLCBmbjMpKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy/mtojpmaRcclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2NsZWFyKSB7XHJcbiAgICAgICAgICAgIC8v6Ziy5q2i6KKr6YeN5aSN5raI6ZmkXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2MuWkwuVUlNZ3IuQWRkU2NvcmUoY2MuWkwuVUlNZ3IuYWRkX3Njb3JlKTtcclxuICAgICAgICAvL+WmguaenOaYr+manOeijeeJqeWwseeUqOmanOeijeeJqea2iOmZpFxyXG4gICAgICAgIGlmICh0aGlzLmFuaW1UeXBlID4gNikge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyT2JzdGFjbGUodGhpcywgdGhpcy5yb3dOdW0sIHRoaXMuY29sdW1uTnVtLCAnY2xlYXInKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WFiOafpeeci+ivpeWKqOeJqeS4iuaWueaYr+WQpuaciemcgOimgea2iOmZpOeahOmanOeije+8iOavlOWmguiiq+WGsOWGu++8jOiiq+iNieWbsOS9j++8iVxyXG4gICAgICAgIGlmICh0aGlzLkZpbmRVUCgpKSB7XHJcbiAgICAgICAgICAgIC8v5rKh5pyJ6ZyA6KaB5raI6Zmk55qE5LiK5bGC6Zqc56KN5omN5ZCR5LiL5omn6KGMXHJcbiAgICAgICAgICAgIHRoaXMuaXNfY2xlYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL+afpeeci+aYr+WQpuacieeJueauiua2iOmZpOaViOaenFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY2xlYXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6IC8v5raI6Zmk5LiA6KGMXHJcbiAgICAgICAgICAgICAgICAgICAgY2MuWkwuZWZmTWdyLkNyZWF0Um93RWZmKHRoaXMubm9kZS5nZXRQb3NpdGlvbigpLCAncm93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWxNZ3IuUm93Q2xlYXIodGhpcy5yb3dOdW0sIHRoaXMuY29sdW1uTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjogLy/mtojpmaTkuIDliJdcclxuICAgICAgICAgICAgICAgICAgICBjYy5aTC5lZmZNZ3IuQ3JlYXRSb3dFZmYodGhpcy5ub2RlLmdldFBvc2l0aW9uKCksICdjbG91bW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hbE1nci5Db2x1bW5DbGVhcih0aGlzLnJvd051bSwgdGhpcy5jb2x1bW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAvL+iMg+WbtOa2iOmZpFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLlpMLmVmZk1nci5DcmVhdEJvb21FZmYodGhpcy5ub2RlLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFsTWdyLlJhbmdlQ2xlYXIodGhpcy5yb3dOdW0sIHRoaXMuY29sdW1uTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogLy/prZTlipvpuJ/mtojpmaRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltVHlwZSA9PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbVR5cGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLmtojpmaTnsbvlnovmmK9cIityYW5kb21UeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWxNZ3IuVHlwZUNsZWFyKHRoaXMuYW5pbVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFsTWdyLlR5cGVDbGVhcih0aGlzLmFuaW1UeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5DbGVhclNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy/mn6XnnIvor6XliqjniankuIrmlrnmmK/lkKbmnInpnIDopoHmtojpmaTnmoTpmpznoo3vvIjmr5TlpoLooqvlhrDlhrvvvIzooqvojYnlm7DkvY/vvIlcclxuICAgIEZpbmRVUCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY2FuX21vdmUpIHtcclxuICAgICAgICAgICAgLy/kuI3og73np7vliqjmiY3mnInlj6/og73mnInpmpznoo1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbVR5cGUgPiAwICYmIHRoaXMuYW5pbVR5cGUgPD0gNikge1xyXG4gICAgICAgICAgICAgICAgLy/lj6rmnInliqjniankuIrmlrnmiY3mnInpmpznoo1cclxuICAgICAgICAgICAgICAgIGlmIChjYy5aTC5pY2VNZ3IuVXBBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjYy5aTC5pY2VNZ3IuVXBBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIENsZWFyU2VsZigpIHtcclxuICAgICAgICAvL+WFiOWOu+mZpOWtkOeJqeS9kyjpmYTliqDnibnmlYjku4DkuYjnmoQpXHJcbiAgICAgICAgbGV0IE1jaGlsZHMgPSB0aGlzLm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNY2hpbGRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIE1jaGlsZHNbaV0uZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+afpeeci+ivpeagvOWtkOacieayoeaciemcgOimgea2iOmZpOeahOWGsOWdl+etieeJqeS9k1xyXG4gICAgICAgIGlmIChjYy5aTC5pY2VNZ3IuaWNlQXJyYXlbdGhpcy5yb3dOdW1dW3RoaXMuY29sdW1uTnVtXSAhPSAwKSB7XHJcbiAgICAgICAgICAgIGNjLlpMLmljZU1nci5pY2VBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5Lqn55yL5ZGo5Zu05piv5ZCm5pyJ5Y+v5Lul5raI6Zmk55qEXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuRmluZEFyb3VuZCgpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgLy/or6XkvY3nva7orr7kuLrnqbpcclxuICAgICAgICB0aGlzLmFuaW1hbE1nci5hbmltYWxBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW1dID0gMDtcclxuICAgICAgICBsZXQgdGFyZ2V0bnVtID0gdGhpcy5pc1RhcmdldCgpO1xyXG4gICAgICAgIGlmICh0YXJnZXRudW0gPT0gLTEpIHtcclxuICAgICAgICAgICAgLy/nibnmlYjliqjnlLtcclxuICAgICAgICAgICAgY2MuWkwuZWZmTWdyLkNyZWF0Q2xlYXJFZmYodGhpcy5ub2RlLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICBjYy5aTC5MYWJlbE1nci5jcmVhdExhYmVsKHRoaXMubm9kZS5nZXRQb3NpdGlvbigpLCA1MDApO1xyXG4gICAgICAgICAgICBsZXQgZm4xID0gY2Muc2NhbGVUbygwLjEsIDEuMiwgMS4yKTtcclxuICAgICAgICAgICAgbGV0IGZuMiA9IGNjLnNjYWxlVG8oY29tZUluZm8uYW5pbWFsQ2xlYXJUaW1lLCAwLCAwKTtcclxuICAgICAgICAgICAgbGV0IGZuMyA9IGNjLnNlcXVlbmNlKFtmbjEsIGZuMl0pO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGZuMyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWxNZ3IuYW5pbWFsUG9vbC5wdXQodGhpcy5ub2RlKTtcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIChjb21lSW5mby5hbmltYWxDbGVhclRpbWUgKyAwLjEpICogMTAwMFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLlpMLkxhYmVsTWdyLmNyZWF0TGFiZWwodGhpcy5ub2RlLmdldFBvc2l0aW9uKCksIDUwMCk7XHJcbiAgICAgICAgICAgIGNjLlpMLnRhcmdldE1nci5jbGVhclRhcmdldCh0aGlzLm5vZGUsIHRhcmdldG51bSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZU11QmlhbygpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0bnVtID0gdGhpcy5pc1RhcmdldCgpO1xyXG4gICAgICAgIGlmICh0YXJnZXRudW0gIT0gLTEpIHtcclxuICAgICAgICAgICAgLy8gY2MuWkwuTGFiZWxNZ3IuY3JlYXRMYWJlbCh0aGlzLm5vZGUuZ2V0UG9zaXRpb24oKSwgNTAwKTtcclxuICAgICAgICAgICAgY2MuWkwudGFyZ2V0TWdyLnRhcmdldE51bSh0YXJnZXRudW0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+S6p+eci+WRqOWbtOaYr+WQpuacieWPr+S7pea2iOmZpOeahFxyXG4gICAgRmluZEFyb3VuZCgpIHtcclxuICAgICAgICAvL+acrOi6q+aYr+manOeijeeJqeWwseS4jea2iOmZpOWRqOWbtOS6hlxyXG4gICAgICAgIGlmICh0aGlzLmFuaW1UeXBlID4gNikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5LiKXHJcbiAgICAgICAgaWYgKHRoaXMucm93TnVtIC0gMSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBhbmltID0gdGhpcy5hbmltYWxNZ3IuYW5pbWFsQXJyYXlbdGhpcy5yb3dOdW0gLSAxXVt0aGlzLmNvbHVtbk51bV07XHJcbiAgICAgICAgICAgIGlmIChhbmltICE9IDAgJiYgYW5pbSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9ic3RhY2xlKGFuaW0sIHRoaXMucm93TnVtIC0gMSwgdGhpcy5jb2x1bW5OdW0sICdGaW5kQXJvdW5k5LiKJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/kuItcclxuICAgICAgICBpZiAodGhpcy5yb3dOdW0gKyAxIDwgY29tZUluZm8uY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGxldCBhbmltID0gdGhpcy5hbmltYWxNZ3IuYW5pbWFsQXJyYXlbdGhpcy5yb3dOdW0gKyAxXVt0aGlzLmNvbHVtbk51bV07XHJcbiAgICAgICAgICAgIGlmIChhbmltICE9IDAgJiYgYW5pbSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9ic3RhY2xlKGFuaW0sIHRoaXMucm93TnVtICsgMSwgdGhpcy5jb2x1bW5OdW0sICdGaW5kQXJvdW5k5LiLJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lt6ZcclxuICAgICAgICBpZiAodGhpcy5jb2x1bW5OdW0gLSAxID49IDApIHtcclxuICAgICAgICAgICAgbGV0IGFuaW0gPSB0aGlzLmFuaW1hbE1nci5hbmltYWxBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW0gLSAxXTtcclxuICAgICAgICAgICAgaWYgKGFuaW0gIT0gMCAmJiBhbmltICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT2JzdGFjbGUoYW5pbSwgdGhpcy5yb3dOdW0sIHRoaXMuY29sdW1uTnVtIC0gMSwgJ0ZpbmRBcm91bmTlt6YnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WPs1xyXG4gICAgICAgIGlmICh0aGlzLmNvbHVtbk51bSArIDEgPCBjb21lSW5mby5yb3cpIHtcclxuICAgICAgICAgICAgbGV0IGFuaW0gPSB0aGlzLmFuaW1hbE1nci5hbmltYWxBcnJheVt0aGlzLnJvd051bV1bdGhpcy5jb2x1bW5OdW0gKyAxXTtcclxuICAgICAgICAgICAgaWYgKGFuaW0gIT0gMCAmJiBhbmltICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT2JzdGFjbGUoYW5pbSwgdGhpcy5yb3dOdW0sIHRoaXMuY29sdW1uTnVtICsgMSwgJ0ZpbmRBcm91bmTlj7MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+a2iOmZpOmanOeijeeJqVxyXG4gICAgY2xlYXJPYnN0YWNsZShhbmltLCByb3csIGNvbHVtbiwgbmFtZSA9IG51bGwpIHtcclxuICAgICAgICBpZiAoYW5pbS5hbmltVHlwZSA9PSA3KSB7XHJcbiAgICAgICAgICAgIC8v5Y2V5bGC5YawXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWFsTWdyLmFuaW1hbEFycmF5W3Jvd11bY29sdW1uXSA9IDA7XHJcbiAgICAgICAgICAgIGNjLlpMLm11c2ljTWdyLlBsYXlNdXNpY09ubHkoMTQsIGZhbHNlKTtcclxuICAgICAgICAgICAgYW5pbS5ub2RlLnJ1bkFjdGlvbihjYy5zY2FsZVRvKGNvbWVJbmZvLmFuaW1hbENsZWFyVGltZSwgMCwgMCkpO1xyXG4gICAgICAgICAgICBsZXQgYW5pbXRhcmdldG51bSA9IGFuaW0uaXNUYXJnZXQoKTtcclxuICAgICAgICAgICAgaWYgKGFuaW10YXJnZXRudW0gIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8v5p+l55yL5piv5ZCm5piv55uu5qCHXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZnVuY05hbWUnLCBuYW1lKVxyXG4gICAgICAgICAgICAgICAgY2MuWkwudGFyZ2V0TWdyLmNsZWFyVGFyZ2V0KGFuaW0ubm9kZSwgYW5pbXRhcmdldG51bSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWxNZ3IuYW5pbWFsUG9vbC5wdXQoYW5pbS5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgY29tZUluZm8uYW5pbWFsQ2xlYXJUaW1lICogMTAwMCArIDEwMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYW5pbS5hbmltVHlwZSA9PSA4KSB7XHJcbiAgICAgICAgICAgIGNjLlpMLm11c2ljTWdyLlBsYXlNdXNpY09ubHkoMTQsIGZhbHNlKTtcclxuICAgICAgICAgICAgYW5pbS5hbmltVHlwZSA9IDc7XHJcbiAgICAgICAgICAgIGFuaW0ubm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IGNjLlpMLnNwck1nci5zcHJbYW5pbS5hbmltVHlwZV07XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbmltLmFuaW1UeXBlID09IDkpIHtcclxuICAgICAgICAgICAgY2MuWkwubXVzaWNNZ3IuUGxheU11c2ljT25seSgxNCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBhbmltLmFuaW1UeXBlID0gODtcclxuICAgICAgICAgICAgYW5pbS5ub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gY2MuWkwuc3ByTWdyLnNwclthbmltLmFuaW1UeXBlXTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5p+l55yL5piv5LiN5piv55uu5qCH54mpXHJcbiAgICBpc1RhcmdldCgpIHtcclxuICAgICAgICAvLyAgbGV0IGx2dGFyZ2V0PWx2ZGF0YVtcIkx2XCIrY29tZUluZm8ubm93X2x2XS50YXJnZXQ7XHJcbiAgICAgICAgbGV0IGx2dGFyZ2V0ID0gbHZkYXRhLnRhcmdldDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGx2dGFyZ2V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1UeXBlID09IGx2dGFyZ2V0W2ldWzBdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9LFxyXG4gICAgLy/kuqfnlJ/mqKrlkJHmtojpmaTnibnmlYhcclxuICAgIGNyZWF0Um93RWZmKGJvbCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUeXBlID0gMTtcclxuICAgICAgICBjYy5aTC5lZmZNZ3IuZGlyRWZmKHRoaXMubm9kZSwgJ1JvdycpO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oMik7XHJcbiAgICAgICAgaWYgKCFib2wpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYy5aTC5tdXNpY01nci5NeXBsYXlNdXNpYygxMCwgZmFsc2UpO1xyXG4gICAgfSxcclxuICAgIC8v5Lqn55Sf57q15ZCR5raI6Zmk54m55pWIXHJcbiAgICBjcmVhdENvbG51bUVmZihib2wpIHtcclxuICAgICAgICB0aGlzLmNsZWFyVHlwZSA9IDI7XHJcbiAgICAgICAgY2MuWkwuZWZmTWdyLmRpckVmZih0aGlzLm5vZGUsICdDb2x1bW4nKTtcclxuICAgICAgICB0aGlzLnBsYXlBbmltKDEpO1xyXG4gICAgICAgIGlmICghYm9sKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jYy5aTC5tdXNpY01nci5NeXBsYXlNdXNpYygxMCxmYWxzZSk7XHJcbiAgICB9LFxyXG4gICAgLy/kuqfnlJ9U5Z6L54m55pWIXHJcbiAgICBDcmVhdFRFZmYoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclR5cGUgPSAzO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oMyk7XHJcbiAgICAgICAgY2MuWkwuZWZmTWdyLlRFZmYodGhpcy5ub2RlKTtcclxuICAgIH0sXHJcbiAgICAvL+S6p+eUn+mtlOWKm+m4n+eJueaViFxyXG4gICAgQ3JlYXRGaXZlRWZmKCkge1xyXG4gICAgICAgIGNjLlpMLmVmZk1nci5DcmF0Tmlhbyh0aGlzLm5vZGUpO1xyXG4gICAgICAgIHRoaXMuY2xlYXJUeXBlID0gNDtcclxuICAgICAgICB0aGlzLmFuaW1UeXBlID0gNjtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBjYy5aTC5zcHJNZ3Iuc3ByW3RoaXMuYW5pbVR5cGVdO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+aSreaUvuWKqOeUu1xyXG4gICAgcGxheUFuaW0odHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gY2MuWkwuc3ByTWdyLkFuaW1zcHJbdGhpcy5hbmltVHlwZV07XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKS5wbGF5KCd6aG9uZycpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IGNjLlpMLnNwck1nci5Bbmltc3ByW3RoaXMuYW5pbVR5cGVdO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikucGxheSgnaGVuZycpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IGNjLlpMLnNwck1nci5Bbmltc3ByW3RoaXMuYW5pbVR5cGVdO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikucGxheSgnZmFud2VpJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5YGc5q2i5pKt5pS+5Yqo55S7XHJcbiAgICBzdG9wQW5pbSgpIHtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbikuc3RvcCgpO1xyXG4gICAgfSxcclxufSk7XHJcbiJdfQ==